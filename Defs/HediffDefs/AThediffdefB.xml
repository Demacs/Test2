<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<HediffDef>
		<defName>Bite_Refleum_Ready</defName>
		<hediffClass>HediffWithComps</hediffClass>
		<label>Transition Refleum infection</label>
		<description>!!!</description>
		<defaultLabelColor>(1,0,0.5)</defaultLabelColor>
		<scenarioCanAdd>false</scenarioCanAdd>
		<initialSeverity>1</initialSeverity>
		<maxSeverity>1.0</maxSeverity>
		<isBad>false</isBad>
		<tendable>true</tendable>
		<comps>
			<li Class="HediffCompProperties_SeverityPerDay">
				<severityPerDay>-0.3</severityPerDay>
				<showHoursToRecover>true</showHoursToRecover>
			</li>
			<li Class="HediffCompProperties_TendDuration">
				<baseTendDurationHours>48</baseTendDurationHours>
				<severityPerDayTended>-5</severityPerDayTended>
			</li>
		</comps>
		<stages>
		<li>
			<minSeverity>0</minSeverity>
			<hediffGivers>
				<li Class="AntyHediffGiver_Random">
					<hediff>AntyTransitionRefleum</hediff>
					<mtbDays>3</mtbDays>
					<partsToAffect>
						<li>Antyabdomen</li>
					</partsToAffect>
				</li>
			</hediffGivers>
		</li>
		<li>
			<lifeThreatening>true</lifeThreatening>
			<minSeverity>0.65</minSeverity>
			<hediffGivers>
				<li Class="AntyHediffGiver_Random">
					<hediff>AntyTransitionRefleum</hediff>
					<mtbDays>1.25</mtbDays>
					<partsToAffect>
						<li>Antyabdomen</li>
					</partsToAffect>
				</li>
			</hediffGivers>
		</li>
		<li>
			<lifeThreatening>true</lifeThreatening>
			<minSeverity>0.7</minSeverity>
			<hediffGivers>
				<li Class="AntyHediffGiver_Random">
					<hediff>AntyTransitionRefleum</hediff>
					<mtbDays>0.3</mtbDays>
					<partsToAffect>
						<li>Antyabdomen</li>
					</partsToAffect>
				</li>
			</hediffGivers>
		</li>
		</stages>
	</HediffDef>

	<HediffDef>
		<defName>AntyTransitionRefleum</defName>
		<label>Transition Refleum</label>
		<labelNoun>Transition Refleum</labelNoun>
		<description>It is a side effect of increased viability. It is contagious and increases the aggression of Anty.</description>
		<descriptionHyperlinks>
			<ThingDef>Refleum</ThingDef>
			<ThingDef>AntyTransitionRefleum_Thing</ThingDef>
			<RecipeDef>CureAntyTransitionRefleum</RecipeDef>
		</descriptionHyperlinks>
		<scenarioCanAdd>false</scenarioCanAdd>
		<isBad>true</isBad>
		<hediffClass>HediffWithComps</hediffClass>
		<tendable>true</tendable>
		<initialSeverity>1</initialSeverity>
		<maxSeverity>1.0</maxSeverity>
		<makesSickThought>true</makesSickThought>
		<defaultLabelColor>(1.0, 0.1, 0)</defaultLabelColor>
		<comps>
			<li Class="HediffCompProperties_VerbGiver">
				<tools>
					<li>
						<label>Big jaw</label>
						<capacities>
							<li>Bite_Refleum</li>
						</capacities>
						<power>10</power>
						<cooldownTime>1.8</cooldownTime>
					</li>
				</tools>
			</li>
			<li Class="HediffCompProperties_TendDuration">
				<baseTendDurationHours>24</baseTendDurationHours>
				<severityPerDayTended>-1.5</severityPerDayTended>
			</li>
			<li Class="HediffCompProperties_SeverityPerDay">
				<severityPerDay>-0.25</severityPerDay>
				<showHoursToRecover>true</showHoursToRecover>
			</li>
		</comps>
		<stages>
			<li>
				<lifeThreatening>true</lifeThreatening>
				<statFactors>
					<MoveSpeed>1.1</MoveSpeed>
				</statFactors>
				<mentalStateGivers>
					<li>
						<mentalState>Berserk</mentalState>
						<mtbDays>2</mtbDays>
					</li>
				</mentalStateGivers>
			</li>
		</stages>
		<spawnThingOnRemoved>AntyTransitionRefleum_Thing</spawnThingOnRemoved>
	</HediffDef>

	<ManeuverDef>
		<defName>Bite_Refleum</defName>
		<requiredCapacity>Bite_Refleum</requiredCapacity>
		<verb>
			<verbClass>Verb_MeleeAttackDamage</verbClass>
			<meleeDamageDef>Bite_Refleum</meleeDamageDef>
		</verb>
		<logEntryDef>MeleeAttack</logEntryDef>
		<combatLogRulesHit>Maneuver_Bite_MeleeHit</combatLogRulesHit>
		<combatLogRulesDeflect>Maneuver_Bite_MeleeDeflect</combatLogRulesDeflect>
		<combatLogRulesMiss>Maneuver_Bite_MeleeMiss</combatLogRulesMiss>
		<combatLogRulesDodge>Maneuver_Bite_MeleeDodge</combatLogRulesDodge>
	</ManeuverDef>

	<ToolCapacityDef ParentDefName="Bite">
		<defName>Bite_Refleum</defName>
	</ToolCapacityDef>

	<DamageDef ParentName="Bite">
		<defName>Bite_Refleum</defName>
		<additionalHediffs>
			<li>
				<hediff>Bite_Refleum_Ready</hediff>
				<severityPerDamageDealt>1</severityPerDamageDealt>
				<victimSeverityScalingByInvBodySize>false</victimSeverityScalingByInvBodySize>
				<inverseStatScaling>true</inverseStatScaling>
			</li>
		</additionalHediffs>
	</DamageDef>

	<RecipeDef ParentName="SurgeryFlesh">
		<defName>CureAntyTransitionRefleum</defName>
		<label>Remove TransitionRefleum</label>
		<description>Remove TransitionRefleum.</description>
		<workerClass>Recipe_RemoveHediff</workerClass>
		<jobString>Removing TransitionRefleum.</jobString>
		<workAmount>2000</workAmount>
		<hideBodyPartNames>true</hideBodyPartNames>
		<isViolation>false</isViolation>
		<!-- <targetsBodyPart>false</targetsBodyPart> -->
		<removesHediff>AntyTransitionRefleum</removesHediff>
		<successfullyRemovedHediffMessage>{0} has successfully Removed {1}'s TransitionRefleum.</successfullyRemovedHediffMessage>
		<skillRequirements>
		<Medicine>10</Medicine>
		</skillRequirements>
		<ingredients>
			<li>
				<filter>
					<categories>
						<li>Medicine</li>
					</categories>
				</filter>
				<count>10</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<categories>
				<li>Medicine</li>
			</categories>
		</fixedIngredientFilter>
		<recipeUsers>
			<li>Human</li>
		</recipeUsers>
		<appliedOnFixedBodyParts>
			<li>Antyabdomen</li>
		</appliedOnFixedBodyParts>
		<products>
			<AntyTransitionRefleum_Thing>3</AntyTransitionRefleum_Thing>
		</products>
		<uiIconThing>MedicineIndustrial</uiIconThing>
		<researchPrerequisite>Mediumcolony</researchPrerequisite>
	</RecipeDef>
	
	<DamageDef ParentName="AT_AcidBomb_B">
		<defName>AT_SporeBomb</defName>
		<soundExplosion>Explosion_Acid_SB</soundExplosion>
		<minDamageToFragment>10</minDamageToFragment>
		<additionalHediffs>
			<li>
				<hediff>Bite_Refleum_Ready</hediff>
				<severityPerDamageDealt>1</severityPerDamageDealt>
				<victimSeverityScalingByInvBodySize>false</victimSeverityScalingByInvBodySize>
				<inverseStatScaling>true</inverseStatScaling>
			</li>
		</additionalHediffs>
	</DamageDef>

	<HediffDef>
		<defName>AT_Proty_Reborn</defName>
		<hediffClass>HediffWithComps</hediffClass>
		
		<description>???</description>
		
		<label>???</label>
		<scenarioCanAdd>false</scenarioCanAdd>
		<isBad>false</isBad>
		<initialSeverity>1</initialSeverity>
		<maxSeverity>1.0</maxSeverity>
		<comps>
			<li Class="HediffCompProperties_GiveAbility">
				<abilityDefs>
					<li>ProtyDoll_Suicideburst</li>
				</abilityDefs>
			</li>
		</comps>
		<stages>
			<li>
				<minSeverity>0</minSeverity>
				<becomeVisible>true</becomeVisible>
				<painFactor>0.1</painFactor>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<setMax>0.8</setMax>
					</li>
				</capMods>
				<statFactors>
					<IncomingDamageFactor>2.7</IncomingDamageFactor>
					<InjuryHealingFactor>0.15</InjuryHealingFactor>
					<!-- <hungerRateFactor>3</hungerRateFactor> -->
					<Fertility MayRequire="Ludeon.RimWorld.Biotech">0</Fertility>
					<PsychicSensitivity>0.1</PsychicSensitivity>
				</statFactors>
			</li>
		</stages>
	</HediffDef>
	
	<RecipeDef ParentName="SurgeryFlesh">
		<defName>aciddecomposition</defName>
		<label>decomposition</label>
		<description>Slowly decomposition for medical practice.</description>
		<workerClass>Recipe_AddHediff</workerClass>
		<jobString>decomposition TargetA.</jobString>
		<workAmount>500</workAmount>
		<hideBodyPartNames>true</hideBodyPartNames>
		<isViolation>true</isViolation>
		<targetsBodyPart>false</targetsBodyPart>
		<addsHediff>aciddecomposition</addsHediff>
		<surgeryIgnoreEnvironment>true</surgeryIgnoreEnvironment>
		<ingredients>
			<li>
				<filter>
					<thingDefs>
						<li>AntyExoskeleton</li>
					</thingDefs>
				</filter>
			<count>15</count>
			</li>
		</ingredients>
		<fixedIngredientFilter>
			<thingDefs>
				<li>AntyExoskeleton</li>
			</thingDefs>
		</fixedIngredientFilter>
		<researchPrerequisites>
			<li>Mediumcolony</li>
		</researchPrerequisites>
		<recipeUsers>
			<li>Human</li>
		</recipeUsers>
	</RecipeDef>
	
	<HediffDef>
		<defName>aciddecomposition</defName>
		<hediffClass>HediffWithComps</hediffClass>
		<label>Acid decomposition</label>
		<description>Slowly decomposition for medical practice.</description>
		<defaultLabelColor>(1,0,0.15)</defaultLabelColor>
		<scenarioCanAdd>false</scenarioCanAdd>
		<initialSeverity>0.001</initialSeverity>
		<maxSeverity>1.5</maxSeverity>
		<lethalSeverity>1.5</lethalSeverity>
		<isBad>false</isBad>
		<tendable>true</tendable>
		<comps>
			<li Class="HediffCompProperties_SeverityPerDay">
				<severityPerDay>0.15</severityPerDay>
			</li>
			<li Class="ContDamAnty.HediffCompProperties_ContinuousDamage">
				<damageDef>AT_AcidBullet</damageDef>
				<ticksPerDamage>30000</ticksPerDamage>
				<damageAmount>1.25</damageAmount>
				<endTicks>9999999999</endTicks>
			</li>
			<li Class="HediffCompProperties_TendDuration">
				<baseTendDurationHours>24</baseTendDurationHours>
				<severityPerDayTended>0.005</severityPerDayTended>
			</li>
			<li Class="HediffCompProperties_DisappearsOnDeath"/>
		</comps>
		<stages>
			<li>
				<minSeverity>0</minSeverity>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.1</offset>
					</li>
				</capMods>
			</li>
			<li>
				<minSeverity>0.5</minSeverity>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.25</offset>
					</li>
				</capMods>
			</li>
			<li>
				<minSeverity>1</minSeverity>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.35</offset>
					</li>
				</capMods>
			</li>
			<li>
				<lifeThreatening>true</lifeThreatening>
				<minSeverity>1.48</minSeverity>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.4</offset>
					</li>
				</capMods>
			</li>
			<li>
				<lifeThreatening>true</lifeThreatening>
				<minSeverity>1.5</minSeverity>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>-0.4</offset>
					</li>
				</capMods>
			</li>
		</stages>
	</HediffDef>
	
	<ThoughtDef>
		<defName>AT_Aphidextract_Mood</defName>
		<workerClass>ThoughtWorker_Hediff</workerClass>
		<hediff>aciddecomposition</hediff>
		<validWhileDespawned>true</validWhileDespawned>
		<stages>
		<li>
			<label>my body is melting</label>
			<description>Save me, help me, let me go home, I'm melting now, I feel like I'm on fire, save me, help me...I want to live!!!</description>
			<baseMoodEffect>-40</baseMoodEffect>
		</li>
		</stages>
	</ThoughtDef>
</Defs>